/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function i(t){var n=function(t){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:n+""}var r={theme:{current:"dark",system:"auto"},navigation:{currentSection:"home",previousSection:null,isLoading:!1},user:{isAuthenticated:!1,profile:null,preferences:{}},products:{items:[],filteredItems:[],categories:[],selectedCategory:null,searchQuery:"",sortBy:"popular",isLoading:!1,error:null},modal:{isOpen:!1,type:null,data:null,activeTab:"info"},calculator:{currentProduct:null,formData:{},result:null,isLoading:!1,error:null},consultation:{formData:{},consultants:[],stats:{},isLoading:!1,error:null},faq:{items:[],filteredItems:[],categories:[],selectedCategory:"all",searchQuery:"",isLoading:!1,error:null},chatbot:{isOpen:!1,isMinimized:!1,messages:[],currentFlow:null,isLoading:!1,error:null},ui:{loadingScreen:{isVisible:!0,message:"로딩 중..."},notifications:[],breadcrumbs:[]}},a=function(){return i=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state=this.deepClone(t),this.subscribers=new Map,this.middleware=[],this.history=[],this.historyIndex=-1,this.maxHistorySize=50},a=[{key:"subscribe",value:function(e,t){var n=this;return this.subscribers.has(e)||this.subscribers.set(e,new Set),this.subscribers.get(e).add(t),function(){var i=n.subscribers.get(e);i&&(i.delete(t),0===i.size&&n.subscribers.delete(e))}}},{key:"notify",value:function(e,t,n){var i=this;this.subscribers.has(e)&&this.subscribers.get(e).forEach(function(i){try{i(n,t,e)}catch(e){console.error("상태 구독자 콜백 실행 중 오류:",e)}});for(var r=e.split("."),a=function(){r.pop();var e=r.join(".");i.subscribers.has(e)&&i.subscribers.get(e).forEach(function(t){try{t(i.get(e),null,e)}catch(e){console.error("상태 구독자 콜백 실행 중 오류:",e)}})};r.length>1;)a()}},{key:"get",value:function(e){return this.getNestedValue(this.state,e)}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.get(e),r=this.deepClone(t),a=this.runMiddleware(e,i,r);this.setNestedValue(this.state,e,a),this.addToHistory(e,i,a),n||this.notify(e,i,a)}},{key:"batchUpdate",value:function(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=[];Object.entries(e).forEach(function(e){var i=function(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);c=!0);}catch(e){u=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return s}}(e,n)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var i={}.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),a=i[0],o=i[1],s=n.get(a),c=n.deepClone(o),u=n.runMiddleware(a,s,c);r.push({path:a,oldValue:s,newValue:u})}),r.forEach(function(e){var t=e.path,i=e.newValue;n.setNestedValue(n.state,t,i)}),this.addToHistory("batch",null,r),i||r.forEach(function(e){var t=e.path,i=e.oldValue,r=e.newValue;n.notify(t,i,r)})}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){var t=this.getNestedValue(r,e);this.set(e,t)}else this.state=this.deepClone(r),this.notify("*",null,this.state)}},{key:"addToHistory",value:function(e,t,n){this.history=this.history.slice(0,this.historyIndex+1),this.history.push({path:e,oldValue:this.deepClone(t),newValue:this.deepClone(n),timestamp:Date.now()}),this.history.length>this.maxHistorySize?this.history.shift():this.historyIndex++}},{key:"undo",value:function(){if(this.historyIndex>=0){var e=this.history[this.historyIndex];return this.setNestedValue(this.state,e.path,e.oldValue),this.notify(e.path,e.newValue,e.oldValue),this.historyIndex--,!0}return!1}},{key:"redo",value:function(){if(this.historyIndex<this.history.length-1){this.historyIndex++;var e=this.history[this.historyIndex];return this.setNestedValue(this.state,e.path,e.newValue),this.notify(e.path,e.oldValue,e.newValue),!0}return!1}},{key:"addMiddleware",value:function(e){this.middleware.push(e)}},{key:"runMiddleware",value:function(e,t,n){var i=this,r=n;return this.middleware.forEach(function(n){try{r=n(e,t,r,i.state)}catch(e){console.error("미들웨어 실행 중 오류:",e)}}),r}},{key:"getNestedValue",value:function(e,t){return t?t.split(".").reduce(function(e,t){return e&&void 0!==e[t]?e[t]:void 0},e):e}},{key:"setNestedValue",value:function(t,n,i){if(n){var r=n.split("."),a=r.pop();r.reduce(function(t,n){return t[n]&&"object"===e(t[n])||(t[n]={}),t[n]},t)[a]=i}}},{key:"deepClone",value:function(t){var n=this;if(null===t||"object"!==e(t))return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof Array)return t.map(function(e){return n.deepClone(e)});if("object"===e(t)){var i={};for(var r in t)t.hasOwnProperty(r)&&(i[r]=this.deepClone(t[r]));return i}}},{key:"createSnapshot",value:function(){return{state:this.deepClone(this.state),timestamp:Date.now(),historyIndex:this.historyIndex}}},{key:"restoreFromSnapshot",value:function(e){this.state=this.deepClone(e.state),this.historyIndex=e.historyIndex,this.notify("*",null,this.state)}},{key:"getDebugInfo",value:function(){return{stateSize:JSON.stringify(this.state).length,subscribersCount:this.subscribers.size,historyLength:this.history.length,historyIndex:this.historyIndex,middlewareCount:this.middleware.length}}}],a&&n(i.prototype,a),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,a}(),o=new a(r);function s(e,t){return o.subscribe(e,t)}function c(e){return o.get(e)}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];o.set(e,t,n)}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function d(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t,n){return(t=function(e){var t=function(e){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}o.addMiddleware(function(e,t,n,i){return console.log("[State Change] ".concat(e,":"),{oldValue:t,newValue:n}),n}),o.addMiddleware(function(e,t,n,i){return"theme.current"!==e||["dark","light"].includes(n)?"navigation.currentSection"!==e||["home","products","consultation","faq"].includes(n)?n:(console.warn("Invalid section value:",n),t):(console.warn("Invalid theme value:",n),t)}),o.addMiddleware(function(e,t,n,i){if(["theme.current","user.preferences"].includes(e))try{localStorage.setItem("state_".concat(e),JSON.stringify(n))}catch(e){console.error("상태 저장 실패:",e)}return n}),"undefined"!=typeof window&&window.addEventListener("load",function(){["theme.current","user.preferences"].forEach(function(e){try{var t=localStorage.getItem("state_".concat(e));if(t){var n=JSON.parse(t);o.set(e,n,!0)}}catch(e){console.error("저장된 상태 복원 실패:",e)}})}),"undefined"!=typeof window&&(window.StateManager=a,window.globalState=o,window.subscribeToState=s,window.getState=c,window.setState=u,window.batchUpdateState=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o.batchUpdate(e,t)},window.resetState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;o.reset(e)});var m={CHANGE_THEME:"CHANGE_THEME",DETECT_SYSTEM_THEME:"DETECT_SYSTEM_THEME",TOGGLE_THEME:"TOGGLE_THEME",NAVIGATE_TO_SECTION:"NAVIGATE_TO_SECTION",GO_BACK:"GO_BACK",SET_LOADING:"SET_LOADING",LOAD_PRODUCTS:"LOAD_PRODUCTS",SEARCH_PRODUCTS:"SEARCH_PRODUCTS",FILTER_PRODUCTS:"FILTER_PRODUCTS",SORT_PRODUCTS:"SORT_PRODUCTS",SET_PRODUCT_ERROR:"SET_PRODUCT_ERROR",CLEAR_PRODUCT_ERROR:"CLEAR_PRODUCT_ERROR",OPEN_MODAL:"OPEN_MODAL",CLOSE_MODAL:"CLOSE_MODAL",CHANGE_MODAL_TAB:"CHANGE_MODAL_TAB",INITIALIZE_CALCULATOR:"INITIALIZE_CALCULATOR",UPDATE_CALCULATOR_FORM:"UPDATE_CALCULATOR_FORM",CALCULATE_PREMIUM:"CALCULATE_PREMIUM",SET_CALCULATOR_RESULT:"SET_CALCULATOR_RESULT",SET_CALCULATOR_ERROR:"SET_CALCULATOR_ERROR",UPDATE_CONSULTATION_FORM:"UPDATE_CONSULTATION_FORM",SUBMIT_CONSULTATION:"SUBMIT_CONSULTATION",LOAD_CONSULTANTS:"LOAD_CONSULTANTS",UPDATE_CONSULTATION_STATS:"UPDATE_CONSULTATION_STATS",SET_CONSULTATION_ERROR:"SET_CONSULTATION_ERROR",LOAD_FAQS:"LOAD_FAQS",SEARCH_FAQS:"SEARCH_FAQS",FILTER_FAQS:"FILTER_FAQS",SET_FAQ_ERROR:"SET_FAQ_ERROR",OPEN_CHATBOT:"OPEN_CHATBOT",CLOSE_CHATBOT:"CLOSE_CHATBOT",MINIMIZE_CHATBOT:"MINIMIZE_CHATBOT",ADD_CHATBOT_MESSAGE:"ADD_CHATBOT_MESSAGE",SEND_CHATBOT_MESSAGE:"SEND_CHATBOT_MESSAGE",SET_CHATBOT_LOADING:"SET_CHATBOT_LOADING",SET_LOADING_SCREEN:"SET_LOADING_SCREEN",ADD_NOTIFICATION:"ADD_NOTIFICATION",REMOVE_NOTIFICATION:"REMOVE_NOTIFICATION",UPDATE_BREADCRUMBS:"UPDATE_BREADCRUMBS",SET_USER_PROFILE:"SET_USER_PROFILE",UPDATE_USER_PREFERENCES:"UPDATE_USER_PREFERENCES",CLEAR_USER_DATA:"CLEAR_USER_DATA"},v={changeTheme:function(e){return{type:m.CHANGE_THEME,payload:{theme:e}}},detectSystemTheme:function(e){return{type:m.DETECT_SYSTEM_THEME,payload:{systemTheme:e}}},toggleTheme:function(){return{type:m.TOGGLE_THEME}},navigateToSection:function(e){return{type:m.NAVIGATE_TO_SECTION,payload:{section:e}}},goBack:function(){return{type:m.GO_BACK}},setLoading:function(e){return{type:m.SET_LOADING,payload:{isLoading:e}}},loadProducts:function(e){return{type:m.LOAD_PRODUCTS,payload:{products:e}}},searchProducts:function(e){return{type:m.SEARCH_PRODUCTS,payload:{query:e}}},filterProducts:function(e){return{type:m.FILTER_PRODUCTS,payload:{category:e}}},sortProducts:function(e){return{type:m.SORT_PRODUCTS,payload:{sortBy:e}}},setProductError:function(e){return{type:m.SET_PRODUCT_ERROR,payload:{error:e}}},clearProductError:function(){return{type:m.CLEAR_PRODUCT_ERROR}},openModal:function(e,t){return{type:m.OPEN_MODAL,payload:{type:e,data:t}}},closeModal:function(){return{type:m.CLOSE_MODAL}},changeModalTab:function(e){return{type:m.CHANGE_MODAL_TAB,payload:{tab:e}}},initializeCalculator:function(e){return{type:m.INITIALIZE_CALCULATOR,payload:{product:e}}},updateCalculatorForm:function(e){return{type:m.UPDATE_CALCULATOR_FORM,payload:{formData:e}}},calculatePremium:function(){return{type:m.CALCULATE_PREMIUM}},setCalculatorResult:function(e){return{type:m.SET_CALCULATOR_RESULT,payload:{result:e}}},setCalculatorError:function(e){return{type:m.SET_CALCULATOR_ERROR,payload:{error:e}}},updateConsultationForm:function(e){return{type:m.UPDATE_CONSULTATION_FORM,payload:{formData:e}}},submitConsultation:function(){return{type:m.SUBMIT_CONSULTATION}},loadConsultants:function(e){return{type:m.LOAD_CONSULTANTS,payload:{consultants:e}}},updateConsultationStats:function(e){return{type:m.UPDATE_CONSULTATION_STATS,payload:{stats:e}}},setConsultationError:function(e){return{type:m.SET_CONSULTATION_ERROR,payload:{error:e}}},loadFAQs:function(e){return{type:m.LOAD_FAQS,payload:{faqs:e}}},searchFAQs:function(e){return{type:m.SEARCH_FAQS,payload:{query:e}}},filterFAQs:function(e){return{type:m.FILTER_FAQS,payload:{category:e}}},setFAQError:function(e){return{type:m.SET_FAQ_ERROR,payload:{error:e}}},openChatbot:function(){return{type:m.OPEN_CHATBOT}},closeChatbot:function(){return{type:m.CLOSE_CHATBOT}},minimizeChatbot:function(){return{type:m.MINIMIZE_CHATBOT}},addChatbotMessage:function(e){return{type:m.ADD_CHATBOT_MESSAGE,payload:{message:e}}},sendChatbotMessage:function(e){return{type:m.SEND_CHATBOT_MESSAGE,payload:{text:e}}},setChatbotLoading:function(e){return{type:m.SET_CHATBOT_LOADING,payload:{isLoading:e}}},setLoadingScreen:function(e,t){return{type:m.SET_LOADING_SCREEN,payload:{visible:e,message:t}}},addNotification:function(e){return{type:m.ADD_NOTIFICATION,payload:{notification:e}}},removeNotification:function(e){return{type:m.REMOVE_NOTIFICATION,payload:{id:e}}},updateBreadcrumbs:function(e){return{type:m.UPDATE_BREADCRUMBS,payload:{breadcrumbs:e}}},setUserProfile:function(e){return{type:m.SET_USER_PROFILE,payload:{profile:e}}},updateUserPreferences:function(e){return{type:m.UPDATE_USER_PREFERENCES,payload:{preferences:e}}},clearUserData:function(){return{type:m.CLEAR_USER_DATA}}};function g(e,t){switch(t.type){case m.CHANGE_THEME:return y(y({},e),{},{current:t.payload.theme});case m.DETECT_SYSTEM_THEME:return y(y({},e),{},{system:t.payload.systemTheme});case m.TOGGLE_THEME:return y(y({},e),{},{current:"dark"===e.current?"light":"dark"});default:return e}}function T(e,t){switch(t.type){case m.NAVIGATE_TO_SECTION:return y(y({},e),{},{previousSection:e.currentSection,currentSection:t.payload.section});case m.GO_BACK:return y(y({},e),{},{currentSection:e.previousSection||"home",previousSection:e.currentSection});case m.SET_LOADING:return y(y({},e),{},{isLoading:t.payload.isLoading});default:return e}}function E(e,t){switch(t.type){case m.LOAD_PRODUCTS:var n=d(new Set(t.payload.products.map(function(e){return e.category})));return y(y({},e),{},{items:t.payload.products,filteredItems:t.payload.products,categories:n,isLoading:!1,error:null});case m.SEARCH_PRODUCTS:return y(y({},e),{},{searchQuery:t.payload.query,filteredItems:R(e.items,e.selectedCategory,t.payload.query,e.sortBy)});case m.FILTER_PRODUCTS:return y(y({},e),{},{selectedCategory:t.payload.category,filteredItems:R(e.items,t.payload.category,e.searchQuery,e.sortBy)});case m.SORT_PRODUCTS:return y(y({},e),{},{sortBy:t.payload.sortBy,filteredItems:L(e.filteredItems,t.payload.sortBy)});case m.SET_PRODUCT_ERROR:return y(y({},e),{},{error:t.payload.error,isLoading:!1});case m.CLEAR_PRODUCT_ERROR:return y(y({},e),{},{error:null});default:return e}}function S(e,t){switch(t.type){case m.OPEN_MODAL:return y(y({},e),{},{isOpen:!0,type:t.payload.type,data:t.payload.data,activeTab:"info"});case m.CLOSE_MODAL:return y(y({},e),{},{isOpen:!1,type:null,data:null,activeTab:"info"});case m.CHANGE_MODAL_TAB:return y(y({},e),{},{activeTab:t.payload.tab});default:return e}}function b(e,t){switch(t.type){case m.INITIALIZE_CALCULATOR:return y(y({},e),{},{currentProduct:t.payload.product,formData:{},result:null,error:null});case m.UPDATE_CALCULATOR_FORM:return y(y({},e),{},{formData:y(y({},e.formData),t.payload.formData)});case m.CALCULATE_PREMIUM:return y(y({},e),{},{isLoading:!0,error:null});case m.SET_CALCULATOR_RESULT:return y(y({},e),{},{result:t.payload.result,isLoading:!1});case m.SET_CALCULATOR_ERROR:return y(y({},e),{},{error:t.payload.error,isLoading:!1});default:return e}}function O(e,t){switch(t.type){case m.UPDATE_CONSULTATION_FORM:return y(y({},e),{},{formData:y(y({},e.formData),t.payload.formData)});case m.SUBMIT_CONSULTATION:return y(y({},e),{},{isLoading:!0,error:null});case m.LOAD_CONSULTANTS:return y(y({},e),{},{consultants:t.payload.consultants});case m.UPDATE_CONSULTATION_STATS:return y(y({},e),{},{stats:t.payload.stats});case m.SET_CONSULTATION_ERROR:return y(y({},e),{},{error:t.payload.error,isLoading:!1});default:return e}}function A(e,t){switch(t.type){case m.LOAD_FAQS:var n=d(new Set(t.payload.faqs.map(function(e){return e.category})));return y(y({},e),{},{items:t.payload.faqs,filteredItems:t.payload.faqs,categories:n,isLoading:!1,error:null});case m.SEARCH_FAQS:return y(y({},e),{},{searchQuery:t.payload.query,filteredItems:I(e.items,e.selectedCategory,t.payload.query)});case m.FILTER_FAQS:return y(y({},e),{},{selectedCategory:t.payload.category,filteredItems:I(e.items,t.payload.category,e.searchQuery)});case m.SET_FAQ_ERROR:return y(y({},e),{},{error:t.payload.error,isLoading:!1});default:return e}}function w(e,t){switch(t.type){case m.OPEN_CHATBOT:return y(y({},e),{},{isOpen:!0,isMinimized:!1});case m.CLOSE_CHATBOT:return y(y({},e),{},{isOpen:!1});case m.MINIMIZE_CHATBOT:return y(y({},e),{},{isMinimized:!0});case m.ADD_CHATBOT_MESSAGE:var n=y(y({},t.payload.message),{},{id:Date.now(),timestamp:new Date});return y(y({},e),{},{messages:[].concat(d(e.messages),[n])});case m.SET_CHATBOT_LOADING:return y(y({},e),{},{isLoading:t.payload.isLoading});default:return e}}function C(e,t){switch(t.type){case m.SET_LOADING_SCREEN:return y(y({},e),{},{loadingScreen:{isVisible:t.payload.visible,message:t.payload.message}});case m.ADD_NOTIFICATION:var n=y({id:Date.now(),timestamp:new Date},t.payload.notification);return y(y({},e),{},{notifications:[].concat(d(e.notifications),[n])});case m.REMOVE_NOTIFICATION:return y(y({},e),{},{notifications:e.notifications.filter(function(e){return e.id!==t.payload.id})});case m.UPDATE_BREADCRUMBS:return y(y({},e),{},{breadcrumbs:t.payload.breadcrumbs});default:return e}}function _(e,t){switch(t.type){case m.SET_USER_PROFILE:return y(y({},e),{},{profile:t.payload.profile,isAuthenticated:!0});case m.UPDATE_USER_PREFERENCES:return y(y({},e),{},{preferences:y(y({},e.preferences),t.payload.preferences)});case m.CLEAR_USER_DATA:return{isAuthenticated:!1,profile:null,preferences:{}};default:return e}}function R(e,t,n,i){var r=e;if(t&&(r=r.filter(function(e){return e.category===t})),n){var a=n.toLowerCase();r=r.filter(function(e){return e.name.toLowerCase().includes(a)||e.description.toLowerCase().includes(a)||e.tags.some(function(e){return e.toLowerCase().includes(a)})})}return L(r,i)}function L(e,t){var n=d(e);switch(t){case"price-low":return n.sort(function(e,t){return e.premium.base-t.premium.base});case"price-high":return n.sort(function(e,t){return t.premium.base-e.premium.base});case"name":return n.sort(function(e,t){return e.name.localeCompare(t.name)});default:return n.sort(function(e,t){return(t.popularity||0)-(e.popularity||0)})}}function I(e,t,n){var i=e;if(t&&"all"!==t&&(i=i.filter(function(e){return e.category===t})),n){var r=n.toLowerCase();i=i.filter(function(e){return e.question.toLowerCase().includes(r)||e.answer.toLowerCase().includes(r)||e.tags.some(function(e){return e.toLowerCase().includes(r)})})}return i}function P(e,t){return{theme:g(e.theme,t),navigation:T(e.navigation,t),user:_(e.user,t),products:E(e.products,t),modal:S(e.modal,t),calculator:b(e.calculator,t),consultation:O(e.consultation,t),faq:A(e.faq,t),chatbot:w(e.chatbot,t),ui:C(e.ui,t)}}function M(e){var t=P(o.get("*"),e);o.batchUpdate(t,!0),function(e){switch(e.type){case m.CHANGE_THEME:document.body.className="theme-".concat(e.payload.theme);break;case m.NAVIGATE_TO_SECTION:if(window.history&&window.history.pushState){var t=new URL(window.location);t.searchParams.set("section",e.payload.section),window.history.pushState({section:e.payload.section},"",t)}break;case m.OPEN_MODAL:document.body.style.overflow="hidden";break;case m.CLOSE_MODAL:document.body.style.overflow="";break;case m.ADD_NOTIFICATION:setTimeout(function(){M(v.removeNotification(e.payload.notification.id))},5e3)}}(e)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach(function(t){N(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function N(e,t,n){return(t=z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,z(i.key),i)}}function B(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function z(e){var t=function(e){if("object"!=U(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==U(t)?t:t+""}"undefined"!=typeof window&&(window.ActionTypes=m,window.ActionCreators=v,window.dispatch=M,window.rootReducer=P);var H=function(){return B(function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};F(this,e),this.x=t,this.y=n,this.vx=i.vx||2*(Math.random()-.5),this.vy=i.vy||2*(Math.random()-.5),this.size=i.size||3*Math.random()+1,this.color=i.color||"#007bff",this.opacity=i.opacity||.5*Math.random()+.3,this.life=i.life||100*Math.random()+50,this.maxLife=this.life,this.gravity=i.gravity||.01,this.friction=i.friction||.99,this.type=i.type||"circle",this.rotation=i.rotation||0,this.rotationSpeed=i.rotationSpeed||.1*(Math.random()-.5),this.pulse=i.pulse||!1,this.pulseSpeed=i.pulseSpeed||.05,this.pulseSize=this.size},[{key:"update",value:function(){this.x+=this.vx,this.y+=this.vy,this.vy+=this.gravity,this.vx*=this.friction,this.vy*=this.friction,this.rotation+=this.rotationSpeed,this.pulse&&(this.size=this.pulseSize+2*Math.sin(Date.now()*this.pulseSpeed)),this.life--,this.opacity=this.life/this.maxLife*.5+.3}},{key:"draw",value:function(e){switch(e.save(),e.globalAlpha=this.opacity,e.fillStyle=this.color,e.strokeStyle=this.color,e.translate(this.x,this.y),e.rotate(this.rotation),this.type){case"circle":e.beginPath(),e.arc(0,0,this.size,0,2*Math.PI),e.fill();break;case"square":e.fillRect(-this.size,-this.size,2*this.size,2*this.size);break;case"star":this.drawStar(e,0,0,this.size,.5*this.size,5);break;case"triangle":this.drawTriangle(e,0,0,this.size);break;case"line":e.lineWidth=this.size,e.beginPath(),e.moveTo(2*-this.size,0),e.lineTo(2*this.size,0),e.stroke()}e.restore()}},{key:"drawStar",value:function(e,t,n,i,r,a){var o=Math.PI/2*3,s=t,c=n,u=Math.PI/a;e.beginPath(),e.moveTo(t,n-i);for(var l=0;l<a;l++)s=t+Math.cos(o)*i,c=n+Math.sin(o)*i,e.lineTo(s,c),o+=u,s=t+Math.cos(o)*r,c=n+Math.sin(o)*r,e.lineTo(s,c),o+=u;e.lineTo(t,n-i),e.closePath(),e.fill()}},{key:"drawTriangle",value:function(e,t,n,i){e.beginPath(),e.moveTo(t,n-i),e.lineTo(t-i,n+i),e.lineTo(t+i,n+i),e.closePath(),e.fill()}},{key:"isOffScreen",value:function(e,t){return this.x<-50||this.x>e+50||this.y<-50||this.y>t+50}},{key:"isDead",value:function(){return this.life<=0}}])}(),j=function(){return B(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};F(this,e),this.canvas=t,this.ctx=t.getContext("2d"),this.particles=[],this.options=D({maxParticles:n.maxParticles||100,emissionRate:n.emissionRate||2,emissionArea:n.emissionArea||"center",particleTypes:n.particleTypes||["circle"],colors:n.colors||["#007bff","#17a2b8","#28a745","#ffc107"],sizeRange:n.sizeRange||{min:1,max:4},speedRange:n.speedRange||{min:.5,max:2},lifeRange:n.lifeRange||{min:50,max:150},gravity:n.gravity||.01,friction:n.friction||.99,enableInteraction:n.enableInteraction||!1,mouseRadius:n.mouseRadius||100,repulsionForce:n.repulsionForce||.5,attractionForce:n.attractionForce||.3},n),this.mouse={x:0,y:0,isActive:!1},this.animationId=null,this.isRunning=!1,this.init()},[{key:"init",value:function(){this.resize(),this.setupEventListeners(),this.start()}},{key:"resize",value:function(){var e=this.canvas.getBoundingClientRect();this.canvas.width=e.width*window.devicePixelRatio,this.canvas.height=e.height*window.devicePixelRatio,this.ctx.scale(window.devicePixelRatio,window.devicePixelRatio),this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px"}},{key:"setupEventListeners",value:function(){var e=this;window.addEventListener("resize",function(){e.resize()}),this.options.enableInteraction&&(this.canvas.addEventListener("mousemove",function(t){var n=e.canvas.getBoundingClientRect();e.mouse.x=t.clientX-n.left,e.mouse.y=t.clientY-n.top,e.mouse.isActive=!0}),this.canvas.addEventListener("mouseleave",function(){e.mouse.isActive=!1}),this.canvas.addEventListener("click",function(t){var n=e.canvas.getBoundingClientRect(),i=t.clientX-n.left,r=t.clientY-n.top;e.createExplosion(i,r,10)}))}},{key:"createParticle",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=D({vx:(Math.random()-.5)*this.options.speedRange.max*2,vy:(Math.random()-.5)*this.options.speedRange.max*2,size:Math.random()*(this.options.sizeRange.max-this.options.sizeRange.min)+this.options.sizeRange.min,color:this.options.colors[Math.floor(Math.random()*this.options.colors.length)],life:Math.random()*(this.options.lifeRange.max-this.options.lifeRange.min)+this.options.lifeRange.min,gravity:this.options.gravity,friction:this.options.friction,type:this.options.particleTypes[Math.floor(Math.random()*this.options.particleTypes.length)],pulse:Math.random()>.7},n);return new H(e,t,i)}},{key:"emitParticles",value:function(){if(!(this.particles.length>=this.options.maxParticles)){var e,t;switch(this.options.emissionArea){case"center":default:e=this.canvas.width/2,t=this.canvas.height/2;break;case"random":e=Math.random()*this.canvas.width,t=Math.random()*this.canvas.height;break;case"edges":switch(Math.floor(4*Math.random())){case 0:e=Math.random()*this.canvas.width,t=0;break;case 1:e=this.canvas.width,t=Math.random()*this.canvas.height;break;case 2:e=Math.random()*this.canvas.width,t=this.canvas.height;break;case 3:e=0,t=Math.random()*this.canvas.height}}for(var n=0;n<this.options.emissionRate;n++)this.particles.length<this.options.maxParticles&&this.particles.push(this.createParticle(e,t))}}},{key:"createExplosion",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,i=0;i<n;i++){var r=2*Math.PI*i/n,a=3*Math.random()+2;this.particles.push(this.createParticle(e,t,{vx:Math.cos(r)*a,vy:Math.sin(r)*a,life:50*Math.random()+30,size:4*Math.random()+2}))}}},{key:"handleMouseInteraction",value:function(){var e=this;this.mouse.isActive&&this.options.enableInteraction&&this.particles.forEach(function(t){var n=e.mouse.x-t.x,i=e.mouse.y-t.y,r=Math.sqrt(n*n+i*i);if(r<e.options.mouseRadius){var a=(e.options.mouseRadius-r)/e.options.mouseRadius,o=Math.atan2(i,n),s=Math.cos(o)*a*e.options.repulsionForce,c=Math.sin(o)*a*e.options.repulsionForce;t.vx-=s,t.vy-=c}})}},{key:"updateParticles",value:function(){for(var e=this.particles.length-1;e>=0;e--){var t=this.particles[e];t.update(),(t.isOffScreen(this.canvas.width,this.canvas.height)||t.isDead())&&this.particles.splice(e,1)}}},{key:"drawParticles",value:function(){var e=this;this.particles.forEach(function(t){t.draw(e.ctx)})}},{key:"clear",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"animate",value:function(){var e=this;this.isRunning&&(this.clear(),this.emitParticles(),this.handleMouseInteraction(),this.updateParticles(),this.drawParticles(),this.animationId=requestAnimationFrame(function(){return e.animate()}))}},{key:"start",value:function(){this.isRunning||(this.isRunning=!0,this.animate())}},{key:"stop",value:function(){this.isRunning=!1,this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null)}},{key:"destroy",value:function(){this.stop(),this.particles=[],window.removeEventListener("resize",this.resize),this.options.enableInteraction&&(this.canvas.removeEventListener("mousemove",this.handleMouseMove),this.canvas.removeEventListener("mouseleave",this.handleMouseLeave),this.canvas.removeEventListener("click",this.handleClick))}},{key:"getParticleCount",value:function(){return this.particles.length}},{key:"updateOptions",value:function(e){this.options=D(D({},this.options),e)}}])}(),G={default:{maxParticles:100,emissionRate:2,emissionArea:"center",particleTypes:["circle"],colors:["#007bff","#17a2b8"],sizeRange:{min:1,max:3},speedRange:{min:.5,max:1.5},lifeRange:{min:50,max:100},gravity:.01,friction:.99},space:{maxParticles:150,emissionRate:3,emissionArea:"random",particleTypes:["circle","star"],colors:["#ffffff","#87ceeb","#ffd700","#ff69b4"],sizeRange:{min:.5,max:2},speedRange:{min:.2,max:1},lifeRange:{min:100,max:200},gravity:.005,friction:.995},fire:{maxParticles:80,emissionRate:4,emissionArea:"center",particleTypes:["circle"],colors:["#ff4500","#ff6347","#ff8c00","#ffd700"],sizeRange:{min:2,max:6},speedRange:{min:1,max:3},lifeRange:{min:30,max:80},gravity:-.02,friction:.98},water:{maxParticles:120,emissionRate:2,emissionArea:"edges",particleTypes:["circle"],colors:["#00bfff","#1e90ff","#4169e1","#87ceeb"],sizeRange:{min:1,max:4},speedRange:{min:.3,max:1.2},lifeRange:{min:80,max:150},gravity:.02,friction:.99},magic:{maxParticles:100,emissionRate:2,emissionArea:"center",particleTypes:["circle","star","triangle"],colors:["#ff69b4","#9370db","#00ced1","#ff1493"],sizeRange:{min:1,max:3},speedRange:{min:.5,max:2},lifeRange:{min:60,max:120},gravity:0,friction:.99,enableInteraction:!0}},Q=null;function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return Q&&Q.destroy(),Q=new j(e,"string"==typeof t?G[t]:t)}function q(){var e=document.getElementById("particles-canvas");e&&(V(e,document.body.classList.contains("theme-dark")?"space":"default"),new MutationObserver(function(e){e.forEach(function(e){if("attributes"===e.type&&"class"===e.attributeName){var t=document.body.classList.contains("theme-dark")?"space":"default";Q&&Q.updateOptions(G[t])}})}).observe(document.body,{attributes:!0,attributeFilter:["class"]}))}function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function Z(){var e,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function a(n,i,r,a){var c=i&&i.prototype instanceof s?i:s,u=Object.create(c.prototype);return Y(u,"_invoke",function(n,i,r){var a,s,c,u=0,l=r||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return a=t,s=0,c=e,h.n=n,o}};function f(n,i){for(s=n,c=i,t=0;!d&&u&&!r&&t<l.length;t++){var r,a=l[t],f=h.p,y=a[2];n>3?(r=y===i)&&(c=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=e):a[0]<=f&&((r=n<2&&f<a[1])?(s=0,h.v=i,h.n=a[1]):f<y&&(r=n<3||a[0]>i||i>y)&&(a[4]=n,a[5]=i,h.n=y,s=0))}if(r||n>1)return o;throw d=!0,i}return function(r,l,y){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&f(l,y),s=l,c=y;(t=s<2?e:c)||!d;){a||(s?s<3?(s>1&&(h.n=-1),f(s,c)):h.n=c:h.v=c);try{if(u=2,a){if(s||(r="next"),t=a[r]){if(!(t=t.call(a,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,s<2&&(s=0)}else 1===s&&(t=a.return)&&t.call(a),s<2&&(c=TypeError("The iterator does not provide a '"+r+"' method"),s=1);a=e}else if((t=(d=h.n<0)?c:n.call(i,h))!==o)break}catch(t){a=e,s=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,r,a),!0),u}var o={};function s(){}function c(){}function u(){}t=Object.getPrototypeOf;var l=[][i]?t(t([][i]())):(Y(t={},i,function(){return this}),t),d=u.prototype=s.prototype=Object.create(l);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,Y(e,r,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,Y(d,"constructor",u),Y(u,"constructor",c),c.displayName="GeneratorFunction",Y(u,r,"GeneratorFunction"),Y(d),Y(d,r,"Generator"),Y(d,i,function(){return this}),Y(d,"toString",function(){return"[object Generator]"}),(Z=function(){return{w:a,m:h}})()}function Y(e,t,n,i){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}Y=function(e,t,n,i){if(t)r?r(e,t,{value:n,enumerable:!i,configurable:!i,writable:!i}):e[t]=n;else{var a=function(t,n){Y(e,t,function(e){return this._invoke(t,n,e)})};a("next",0),a("throw",1),a("return",2)}},Y(e,t,n,i)}function J(e,t,n,i,r,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function X(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var a=e.apply(t,n);function o(e){J(a,i,r,o,s,"next",e)}function s(e){J(a,i,r,o,s,"throw",e)}o(void 0)})}}function $(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,W(i.key),i)}}function W(e){var t=function(e){if("object"!=K(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=K(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==K(t)?t:t+""}"undefined"!=typeof window&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",q):q()),"undefined"!=typeof window&&(window.Particle=H,window.ParticleSystem=j,window.ParticlePresets=G,window.initParticleSystem=V,window.stopParticleSystem=function(){Q&&Q.stop()},window.startParticleSystem=function(){Q&&Q.start()},window.destroyParticleSystem=function(){Q&&(Q.destroy(),Q=null)},window.createExplosion=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;Q&&Q.createExplosion(e,t,n)});var ee=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isInitialized=!1,this.currentPage="home",this.particleSystem=null,this.eventListeners=new Map,this.handleThemeToggle=this.handleThemeToggle.bind(this),this.handleNavigation=this.handleNavigation.bind(this),this.handleModalClose=this.handleModalClose.bind(this),this.handleChatbotToggle=this.handleChatbotToggle.bind(this),this.handleScroll=this.handleScroll.bind(this),this.handleResize=this.handleResize.bind(this)},t=[{key:"init",value:(y=X(Z().m(function e(){var t,n=this;return Z().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,console.log("🚀 보험사이트 애플리케이션 초기화 시작..."),this.showLoadingScreen("애플리케이션을 초기화하는 중..."),e.n=1,this.initializeState();case 1:return e.n=2,this.initializeUI();case 2:return this.setupEventListeners(),this.initializeParticles(),e.n=3,this.loadInitialData();case 3:this.setupStateSubscriptions(),setTimeout(function(){n.hideLoadingScreen()},1e3),this.isInitialized=!0,console.log("✅ 애플리케이션 초기화 완료"),e.n=5;break;case 4:e.p=4,t=e.v,console.error("❌ 애플리케이션 초기화 실패:",t),this.showError("애플리케이션 초기화 중 오류가 발생했습니다.");case 5:return e.a(2)}},e,this,[[0,4]])})),function(){return y.apply(this,arguments)})},{key:"initializeState",value:(f=X(Z().m(function e(){return Z().w(function(e){for(;;)switch(e.n){case 0:console.log("📊 상태 관리 초기화..."),this.restorePersistedState(),this.detectSystemTheme(),this.handleURLParameters();case 1:return e.a(2)}},e,this)})),function(){return f.apply(this,arguments)})},{key:"initializeUI",value:(h=X(Z().m(function e(){return Z().w(function(e){for(;;)switch(e.n){case 0:console.log("🎨 UI 초기화..."),this.applyTheme(),this.initializeNavigation(),this.initializeModals(),this.initializeChatbot(),this.initializeForms();case 1:return e.a(2)}},e,this)})),function(){return h.apply(this,arguments)})},{key:"setupEventListeners",value:function(){var e=this;console.log("🎧 이벤트 리스너 설정...");var t=document.getElementById("theme-toggle-btn");t&&this.addEventListener(t,"click",this.handleThemeToggle),document.querySelectorAll(".nav-item").forEach(function(t){e.addEventListener(t,"click",e.handleNavigation)}),document.querySelectorAll(".modal-close").forEach(function(t){e.addEventListener(t,"click",e.handleModalClose)}),this.addEventListener(window,"scroll",this.handleScroll),this.addEventListener(window,"resize",this.handleResize),this.addEventListener(document,"keydown",this.handleKeydown.bind(this)),this.addEventListener(document,"click",this.handleGlobalClick.bind(this))}},{key:"initializeParticles",value:function(){console.log("✨ 파티클 시스템 초기화...");var e=document.getElementById("particles-canvas");if(e){var t="dark"===c("theme.current")?"space":"default";this.particleSystem=V(e,t)}}},{key:"loadInitialData",value:(d=X(Z().m(function e(){var t;return Z().w(function(e){for(;;)switch(e.n){case 0:return console.log("📦 초기 데이터 로드..."),e.p=1,e.n=2,this.loadProducts();case 2:return e.n=3,this.loadFAQs();case 3:return e.n=4,this.loadConsultants();case 4:e.n=6;break;case 5:e.p=5,t=e.v,console.error("데이터 로드 실패:",t);case 6:return e.a(2)}},e,this,[[1,5]])})),function(){return d.apply(this,arguments)})},{key:"setupStateSubscriptions",value:function(){var e=this;console.log("📡 상태 구독 설정..."),s("theme.current",function(t){e.onThemeChange(t)}),s("navigation.currentSection",function(t){e.onSectionChange(t)}),s("modal.isOpen",function(t){e.onModalStateChange(t)}),s("chatbot.isOpen",function(t){e.onChatbotStateChange(t)})}},{key:"loadProducts",value:(l=X(Z().m(function e(){var t,n;return Z().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,this.fetchProducts();case 1:t=e.v,M(v.loadProducts(t)),e.n=3;break;case 2:e.p=2,n=e.v,console.error("보험상품 로드 실패:",n),M(v.setProductError("보험상품을 불러오는데 실패했습니다."));case 3:return e.a(2)}},e,this,[[0,2]])})),function(){return l.apply(this,arguments)})},{key:"loadFAQs",value:(o=X(Z().m(function e(){var t,n;return Z().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,this.fetchFAQs();case 1:t=e.v,M(v.loadFAQs(t)),e.n=3;break;case 2:e.p=2,n=e.v,console.error("FAQ 로드 실패:",n),M(v.setFAQError("FAQ를 불러오는데 실패했습니다."));case 3:return e.a(2)}},e,this,[[0,2]])})),function(){return o.apply(this,arguments)})},{key:"loadConsultants",value:(a=X(Z().m(function e(){var t,n;return Z().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,this.fetchConsultants();case 1:t=e.v,M(v.loadConsultants(t)),e.n=3;break;case 2:e.p=2,n=e.v,console.error("상담사 데이터 로드 실패:",n);case 3:return e.a(2)}},e,this,[[0,2]])})),function(){return a.apply(this,arguments)})},{key:"fetchProducts",value:(r=X(Z().m(function e(){return Z().w(function(e){for(;;)if(0===e.n)return e.a(2,new Promise(function(e){setTimeout(function(){e([{id:1,name:"안전한 미래 생명보험",category:"life",description:"가족을 위한 최고의 선물",premium:{base:5e4},popularity:95,tags:["생명보험","가족보장","저렴한보험료"]},{id:2,name:"건강한 하루 건강보험",category:"health",description:"건강한 삶을 위한 보장",premium:{base:3e4},popularity:88,tags:["건강보험","질병보장","입원보장"]}])},1e3)}))},e)})),function(){return r.apply(this,arguments)})},{key:"fetchFAQs",value:(i=X(Z().m(function e(){return Z().w(function(e){for(;;)if(0===e.n)return e.a(2,new Promise(function(e){setTimeout(function(){e([{id:1,question:"보험 가입은 어떻게 하나요?",answer:"온라인으로 간편하게 가입하실 수 있습니다.",category:"general",tags:["가입","온라인"]},{id:2,question:"보험료는 언제 납입하나요?",answer:"매월 자동이체로 납입하실 수 있습니다.",category:"general",tags:["보험료","납입"]}])},500)}))},e)})),function(){return i.apply(this,arguments)})},{key:"fetchConsultants",value:(n=X(Z().m(function e(){return Z().w(function(e){for(;;)if(0===e.n)return e.a(2,new Promise(function(e){setTimeout(function(){e([{id:1,name:"김상담",experience:"10년",specialty:"생명보험",rating:4.8},{id:2,name:"이전문",experience:"8년",specialty:"건강보험",rating:4.9}])},300)}))},e)})),function(){return n.apply(this,arguments)})},{key:"restorePersistedState",value:function(){var e=localStorage.getItem("theme");e&&u("theme.current",e);var t=localStorage.getItem("userPreferences");if(t)try{u("user.preferences",JSON.parse(t))}catch(e){console.error("사용자 설정 복원 실패:",e)}}},{key:"detectSystemTheme",value:function(){var e=window.matchMedia("(prefers-color-scheme: dark)"),t=e.matches?"dark":"light";u("theme.system",t),"auto"===c("theme.current")&&u("theme.current",t),e.addEventListener("change",function(e){var t=e.matches?"dark":"light";u("theme.system",t),"auto"===c("theme.current")&&u("theme.current",t)})}},{key:"handleURLParameters",value:function(){var e=new URLSearchParams(window.location.search).get("section");e&&["home","products","consultation","faq"].includes(e)&&u("navigation.currentSection",e)}},{key:"applyTheme",value:function(){var e=c("theme.current");document.body.className="theme-".concat(e);var t=document.querySelector('meta[name="theme-color"]');t&&t.setAttribute("content","dark"===e?"#0a0a0a":"#ffffff")}},{key:"initializeNavigation",value:function(){var e=c("navigation.currentSection");this.updateNavigationUI(e)}},{key:"initializeModals",value:function(){var e=this;document.querySelectorAll(".modal-overlay").forEach(function(t){e.addEventListener(t,"click",function(n){n.target===t&&e.closeModal()})})}},{key:"initializeChatbot",value:function(){var e=document.getElementById("chatbot-toggle"),t=document.getElementById("chatbot-close"),n=document.getElementById("chatbot-send"),i=document.getElementById("chatbot-input");e&&this.addEventListener(e,"click",this.handleChatbotToggle),t&&this.addEventListener(t,"click",function(){M(v.closeChatbot())}),n&&i&&(this.addEventListener(n,"click",function(){var e=i.value.trim();e&&(M(v.sendChatbotMessage(e)),i.value="")}),this.addEventListener(i,"keypress",function(e){if("Enter"===e.key){var t=i.value.trim();t&&(M(v.sendChatbotMessage(t)),i.value="")}}))}},{key:"initializeForms",value:function(){var e=this,t=document.getElementById("consultation-form");t&&this.addEventListener(t,"submit",function(t){t.preventDefault(),e.handleConsultationSubmit()});var n=document.getElementById("calculator-form");n&&this.addEventListener(n,"submit",function(t){t.preventDefault(),e.handleCalculatorSubmit()})}},{key:"handleThemeToggle",value:function(){var e=c("theme.current");M(v.changeTheme("dark"===e?"light":"dark"))}},{key:"handleNavigation",value:function(e){var t=e.currentTarget.dataset.section;t&&M(v.navigateToSection(t))}},{key:"handleModalClose",value:function(){M(v.closeModal())}},{key:"handleChatbotToggle",value:function(){M(c("chatbot.isOpen")?v.closeChatbot():v.openChatbot())}},{key:"handleScroll",value:function(){this.handleScrollAnimations()}},{key:"handleResize",value:function(){this.particleSystem&&this.particleSystem.resize()}},{key:"handleKeydown",value:function(e){"Escape"===e.key&&c("modal.isOpen")&&this.closeModal(),(e.ctrlKey||e.metaKey)&&"k"===e.key&&(e.preventDefault(),this.focusSearch())}},{key:"handleGlobalClick",value:function(e){this.handleOutsideClicks(e)}},{key:"onThemeChange",value:function(e){if(this.applyTheme(),this.particleSystem){var t="dark"===e?"space":"default";this.particleSystem.updateOptions(G[t])}localStorage.setItem("theme",e)}},{key:"onSectionChange",value:function(e){this.updateNavigationUI(e),this.updatePageContent(e),this.currentPage=e}},{key:"onModalStateChange",value:function(e){document.body.style.overflow=e?"hidden":""}},{key:"onChatbotStateChange",value:function(e){var t=document.getElementById("chatbot-container");t&&(e?t.classList.add("active"):t.classList.remove("active"))}},{key:"updateNavigationUI",value:function(e){document.querySelectorAll(".nav-item").forEach(function(t){t.classList.remove("active"),t.dataset.section===e&&t.classList.add("active")})}},{key:"updatePageContent",value:function(e){switch(e){case"products":this.loadProductsPage();break;case"consultation":this.loadConsultationPage();break;case"faq":this.loadFAQPage();break;default:this.loadHomePage()}}},{key:"showLoadingScreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"로딩 중...",t=document.getElementById("loading-screen");if(t){t.style.display="flex";var n=t.querySelector("p");n&&(n.textContent=e)}}},{key:"hideLoadingScreen",value:function(){var e=document.getElementById("loading-screen");e&&(e.classList.add("hidden"),setTimeout(function(){e.style.display="none",e.classList.remove("hidden")},300))}},{key:"showError",value:function(e){M(v.addNotification({type:"error",title:"오류",message:e}))}},{key:"addEventListener",value:function(e,t,n){e.addEventListener(t,n),this.eventListeners.has(e)||this.eventListeners.set(e,new Map),this.eventListeners.get(e).set(t,n)}},{key:"removeEventListener",value:function(e,t){var n=this.eventListeners.get(e);if(n&&n.has(t)){var i=n.get(t);e.removeEventListener(t,i),n.delete(t)}}},{key:"closeModal",value:function(){M(v.closeModal())}},{key:"focusSearch",value:function(){var e=document.querySelector("#product-search, #faq-search");e&&e.focus()}},{key:"handleScrollAnimations",value:function(){window.scrollY,document.querySelectorAll("[data-scroll-animation]").forEach(function(e){var t=e.getBoundingClientRect();t.top<window.innerHeight&&t.bottom>0&&e.classList.add("animate-in")})}},{key:"handleOutsideClicks",value:function(e){document.querySelectorAll(".dropdown.active").forEach(function(t){t.contains(e.target)||t.classList.remove("active")})}},{key:"loadHomePage",value:function(){}},{key:"loadProductsPage",value:function(){}},{key:"loadConsultationPage",value:function(){}},{key:"loadFAQPage",value:function(){}},{key:"handleConsultationSubmit",value:function(){var e=document.getElementById("consultation-form");if(e){var t=new FormData(e),n=Object.fromEntries(t.entries());M(v.updateConsultationForm(n)),M(v.submitConsultation())}}},{key:"handleCalculatorSubmit",value:function(){var e=document.getElementById("calculator-form");if(e){var t=new FormData(e),n=Object.fromEntries(t.entries());M(v.updateCalculatorForm(n)),M(v.calculatePremium())}}},{key:"destroy",value:function(){this.eventListeners.forEach(function(e,t){e.forEach(function(e,n){t.removeEventListener(n,e)})}),this.eventListeners.clear(),this.particleSystem&&this.particleSystem.destroy(),console.log("🧹 애플리케이션 정리 완료")}}],t&&$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,i,r,a,o,l,d,h,f,y}(),te=new ee;function ne(){return ie.apply(this,arguments)}function ie(){return(ie=X(Z().m(function e(){var t;return Z().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,te.init();case 1:M(v.addNotification({type:"success",title:"환영합니다!",message:"보험사이트에 오신 것을 환영합니다."})),e.n=3;break;case 2:e.p=2,t=e.v,console.error("애플리케이션 시작 실패:",t);case 3:return e.a(2)}},e,null,[[0,2]])}))).apply(this,arguments)}window.navigateToSection=function(e){M(v.navigateToSection(e))},window.openModal=function(e,t){M(v.openModal(e,t))},window.closeModal=function(){M(v.closeModal())},window.openChatbot=function(){M(v.openChatbot())},window.closeChatbot=function(){M(v.closeChatbot())},window.openConsultation=function(){M(v.navigateToSection("consultation"))},window.scrollToSection=function(e){var t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})},window.resetFilters=function(){M(v.searchProducts("")),M(v.filterProducts(null))},window.resetFAQSearch=function(){M(v.searchFAQs("")),M(v.filterFAQs("all"))},window.resetForm=function(){var e=document.getElementById("consultation-form");e&&(e.reset(),M(v.updateConsultationForm({})))},window.closeSuccessModal=function(){M(v.closeModal())},window.saveCalculation=function(){c("calculator.result")&&M(v.addNotification({type:"success",title:"저장 완료",message:"계산 결과가 저장되었습니다."}))},window.applyInsurance=function(){var e=c("calculator.result");e&&M(v.openModal("success",{type:"application",data:e,message:"보험 가입 신청이 완료되었습니다."}))},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",ne):ne(),window.addEventListener("beforeunload",function(){te.destroy()}),"undefined"!=typeof window&&(window.InsuranceApp=ee,window.app=te,window.startApp=ne)})();